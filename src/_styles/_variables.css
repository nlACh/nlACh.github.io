/**
 * ===========================================================================
 * THEME VARIABLES - COLOR CUSTOMIZATION GUIDE
 * ===========================================================================
 * 
 * This file contains all CSS custom properties (variables) for the site's
 * color scheme, typography, and spacing. The site supports both light and
 * dark modes with automatic system preference detection.
 * 
 * HOW THEMING WORKS:
 * ------------------
 * 1. Light mode: Default colors defined in :root
 * 2. Dark mode: Overrides defined in [data-theme="dark"]
 * 3. System preference: Uses @media (prefers-color-scheme: dark) when no
 *    explicit theme is set
 * 
 * CUSTOMIZING COLORS:
 * -------------------
 * To customize colors for your site:
 * 
 * 1. TEXT COLORS:
 *    - --color-text-default: Main body text (high contrast)
 *    - --color-text-secondary: Secondary text, subtitles
 *    - --color-text-muted: Tertiary text, less emphasis
 *    
 * 2. SURFACE/BACKGROUND COLORS:
 *    - --color-surface-default: Main page background
 *    - --color-surface-secondary: Cards, sidebars, alternate sections
 *    - --color-surface-card: Specific card backgrounds
 *    
 * 3. BUTTON COLORS:
 *    - --color-btn-primary-bg: Primary button background
 *    - --color-btn-primary-text: Primary button text
 *    - --color-btn-primary-hover-bg: Primary button hover background
 *    - --color-btn-secondary-bg: Secondary button background
 *    - --color-btn-secondary-text: Secondary button text
 *    - --color-btn-outline-border: Outline button border
 *    
 * 4. INTERACTIVE COLORS:
 *    - --color-interactive-default: Links, interactive elements
 *    - --color-interactive-hover: Hover state for interactive elements
 *    - --color-interactive-focus: Focus state for interactive elements
 *    - --color-interactive-focus-ring: Focus ring color for accessibility
 * 
 * ACCESSIBILITY NOTES:
 * --------------------
 * - All color combinations aim for WCAG AAA compliance (7:1 contrast ratio)
 * - Minimum WCAG AA compliance (4.5:1) for all text
 * - Focus states are always visible with sufficient contrast
 * - Test changes with browser devtools accessibility tools
 * 
 * EXAMPLE - Changing primary brand color:
 * ---------------------------------------
 * To change the primary color from blue to green:
 * 
 * :root {
 *   --color-primary: #166534;           // Dark green
 *   --color-primary-dark: #14532d;      // Darker green for hover
 *   --color-primary-light: #4ade80;     // Light green for accents
 * }
 * 
 * [data-theme="dark"] {
 *   --color-primary: #166534;           // Same or adjusted for dark mode
 *   --color-primary-light: #86efac;     // Brighter for dark backgrounds
 * }
 * ===========================================================================
 */

:root {
	/* =======================================================================
	 * LIGHT MODE COLOR SCHEME
	 * =======================================================================
	 * These are the default colors used when light mode is active.
	 * All colors have been tested for WCAG AAA compliance.
	 */
	
	/* Primary Brand Colors - Light Mode
	 * These define the main visual identity of the site */
	--color-primary: #1a365d;           /* Deep blue - main brand color */
	--color-primary-dark: #0f2444;      /* Darker blue - hover states, emphasis */
	--color-primary-light: #60A5FA;     /* Light blue - accents, highlights */
	--color-secondary: #2C3E50;         /* Dark slate - secondary brand color */
	--color-accent: #2563EB;            /* Bright blue - call-to-action elements */
	
	/* Surface/Background Colors - Light Mode
	 * These define the background colors for different UI elements */
	--color-surface-default: #FFFFFF;   /* Main page background - pure white */
	--color-surface-secondary: #F8F9FA; /* Cards, sidebars - light gray */
	--color-surface-card: #FFFFFF;      /* Publication cards background */
	--color-highlight: hsl(216, 100%, 88%); /* Text selection highlight */
	
	/* Text Colors - Light Mode
	 * Different levels of text emphasis for visual hierarchy
	 * Contrast ratios: default ~13:1, secondary ~9:1, muted ~5.5:1 */
	--color-text-default: #1A1A1A;      /* Primary text - near black */
	--color-text-secondary: #2C3E50;    /* Secondary text - dark slate */
	--color-text-muted: #4A5568;        /* Muted text - medium gray */
	
	/* Code Syntax Colors - Light Mode */
	--color-text-code-default: hsl(105, 10%, 42%);
	--color-text-code-attr: hsl(358, 85%, 38%);
	--color-text-code-function: hsl(24, 85%, 31%);
	--color-text-code-class: hsl(39, 92%, 35%);
	--color-text-code-selector: hsl(299, 54%, 40%);
	--color-text-code-variable: hsl(143, 59%, 34%);
	--color-text-code-url: hsl(179, 50%, 30%);
	
	/* Interactive/Link Colors - Light Mode */
	--color-interactive-default: #2563EB;       /* Default link color */
	--color-interactive-hover: #1D4ED8;         /* Link hover state */
	--color-interactive-focus: #1D4ED8;         /* Link focus state */
	--color-interactive-focus-ring: #60A5FA;    /* Focus ring for accessibility */
	
	/* Border Colors - Light Mode */
	--color-border-default: #E5E7EB;    /* Default border - subtle gray */
	
	/* =======================================================================
	 * BUTTON COLORS - LIGHT MODE
	 * =======================================================================
	 * Separate button color variables for easy customization.
	 * Each button type has colors for: background, text, border, and states
	 */
	
	/* Primary Button - Light Mode (filled, high emphasis) */
	--color-btn-primary-bg: #1a365d;
	--color-btn-primary-text: #FFFFFF;
	--color-btn-primary-border: #1a365d;
	--color-btn-primary-hover-bg: #0f2444;
	--color-btn-primary-hover-text: #FFFFFF;
	--color-btn-primary-hover-border: #0f2444;
	--color-btn-primary-active-bg: #1a365d;
	--color-btn-primary-focus-ring: #60A5FA;
	
	/* Secondary Button - Light Mode (subtle background) */
	--color-btn-secondary-bg: #F8F9FA;
	--color-btn-secondary-text: #1a365d;
	--color-btn-secondary-border: #E5E7EB;
	--color-btn-secondary-hover-bg: #60A5FA;
	--color-btn-secondary-hover-text: #FFFFFF;
	--color-btn-secondary-hover-border: #60A5FA;
	--color-btn-secondary-active-bg: #1a365d;
	--color-btn-secondary-focus-ring: #60A5FA;
	
	/* Outline Button - Light Mode (transparent with border) */
	--color-btn-outline-bg: transparent;
	--color-btn-outline-text: #1a365d;
	--color-btn-outline-border: #1a365d;
	--color-btn-outline-hover-bg: #1a365d;
	--color-btn-outline-hover-text: #FFFFFF;
	--color-btn-outline-hover-border: #1a365d;
	--color-btn-outline-active-bg: #0f2444;
	--color-btn-outline-focus-ring: #60A5FA;

	/* =======================================================================
	 * Z-INDEX SCALE
	 * =======================================================================
	 * Consistent z-index values for layering elements.
	 * Use these variables to maintain predictable stacking order.
	 */
	--z-index-dropdown: 100;
	--z-index-sticky: 200;
	--z-index-header: 500;
	--z-index-modal: 1000;
	--z-index-modal-close: 1001;

	/* Font - Times New Roman for professional academic appearance */
	--font-family-sans: 'Times New Roman', Georgia, 'Times', serif;
	--font-family-code: 'Consolas', 'Courier New', 'Monaco', monospace;

	/* Fluid type and space, thanks to https://utopia.fyi/ */
	/* Font size */
	--step-0: clamp(1rem, calc(1rem + 0.12vw), 1.15rem);
	--step-1: clamp(1.2rem, calc(1.16rem + 0.19vw), 1.33rem);
	--step-2: clamp(1.44rem, calc(1.34rem + 0.48vw), 1.78rem);
	--step-3: clamp(1.73rem, calc(1.55rem + 0.92vw), 2.37rem);
	--step-4: clamp(2.07rem, calc(1.76rem + 1.55vw), 3.16rem);
	--step-5: clamp(2.49rem, calc(2rem + 2.46vw), 4.21rem);

	/* Leading */
	--leading-tight: 1.1;
	--leading-default: 1.5;
	--leading-loose: 1.7;

	/* Measure */
	--measure-default: 70ch;
	--measure-tight: 48ch;

	/* Spacing */
	--space-3xs: clamp(0.25rem, calc(0.25rem + 0vw), 0.25rem);
	--space-2xs: clamp(0.5rem, calc(0.5rem + 0vw), 0.5rem);
	--space-xs: clamp(0.75rem, calc(0.75rem + 0vw), 0.75rem);
	--space-s: clamp(1rem, calc(1rem + 0vw), 1rem);
	--space-m: clamp(1.5rem, calc(1.5rem + 0vw), 1.5rem);
	--space-l: clamp(2rem, calc(2rem + 0vw), 2rem);
	--space-xl: clamp(3rem, calc(3rem + 0vw), 3rem);
	--space-2xl: clamp(4rem, calc(4rem + 0vw), 4rem);
	--space-3xl: clamp(6rem, calc(6rem + 0vw), 6rem);
	/* One-up pairs */
	--space-3xs-2xs: clamp(0.25rem, calc(0.18rem + 0.36vw), 0.5rem);
	--space-2xs-xs: clamp(0.5rem, calc(0.43rem + 0.36vw), 0.75rem);
	--space-xs-s: clamp(0.75rem, calc(0.68rem + 0.36vw), 1rem);
	--space-s-m: clamp(1rem, calc(0.86rem + 0.71vw), 1.5rem);
	--space-m-l: clamp(1.5rem, calc(1.36rem + 0.71vw), 2rem);
	--space-l-xl: clamp(2rem, calc(1.71rem + 1.43vw), 3rem);
	--space-xl-2xl: clamp(3rem, calc(2.71rem + 1.43vw), 4rem);
	--space-2xl-3xl: clamp(4rem, calc(3.43rem + 2.86vw), 6rem);
	/* Custom pairs */
	--space-s-l: clamp(1rem, calc(0.71rem + 1.43vw), 2rem);

	/* Border radius */
	--border-radius-small: 0.5rem;
	--border-radius-medium: 0.75rem;
	--border-radius-large: 1rem;

	/* Max width */
	--wrapper-max: 64rem;
	
	/* Shadows */
	--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* =======================================================================
 * DARK MODE COLOR SCHEME
 * =======================================================================
 * These colors override the light mode defaults when data-theme="dark"
 * is set on the html element.
 * 
 * Dark mode design principles:
 * - Use lighter text on dark backgrounds for readability
 * - Reduce contrast slightly to prevent eye strain
 * - Use softer, less saturated colors for large surfaces
 * - Maintain sufficient contrast for accessibility (WCAG AA minimum)
 */
[data-theme="dark"] {
	/* Primary Brand Colors - Dark Mode
	 * Adjusted for better visibility on dark backgrounds */
	--color-primary: #2D3748;           /* Dark slate - adapts to dark theme */
	--color-primary-dark: #1A1A1A;      /* Near black - for emphasis */
	--color-primary-light: #60A5FA;     /* Light blue - maintains brand identity */
	--color-accent: #60A5FA;            /* Light blue accent for visibility */
	
	/* Surface/Background Colors - Dark Mode */
	--color-surface-default: #1A1A1A;   /* Main background - near black */
	--color-surface-secondary: #2D3748; /* Cards, sidebars - dark slate */
	--color-surface-card: #2D3748;      /* Publication cards - dark slate */
	--color-highlight: hsl(216, 100%, 18%); /* Selection highlight - dark blue */
	
	/* Text Colors - Dark Mode
	 * Lighter colors for readability on dark backgrounds
	 * Contrast ratios: default ~15:1, secondary ~11:1, muted ~7:1 */
	--color-text-default: #F8F9FA;      /* Primary text - near white */
	--color-text-secondary: #E2E8F0;    /* Secondary text - light gray */
	--color-text-muted: #A0AEC0;        /* Muted text - medium gray */
	
	/* Code Syntax Colors - Dark Mode (adjusted for dark backgrounds) */
	--color-text-code-default: hsl(33, 15%, 68%);
	--color-text-code-attr: hsl(358, 65%, 68%);
	--color-text-code-function: hsl(24, 85%, 61%);
	--color-text-code-class: hsl(41, 92%, 65%);
	--color-text-code-selector: hsl(299, 34%, 70%);
	--color-text-code-variable: hsl(143, 39%, 64%);
	--color-text-code-url: hsl(179, 50%, 60%);
	
	/* Interactive/Link Colors - Dark Mode */
	--color-interactive-default: #60A5FA;       /* Brighter blue for visibility */
	--color-interactive-hover: #93C5FD;         /* Lighter blue on hover */
	--color-interactive-focus: #93C5FD;         /* Lighter blue on focus */
	--color-interactive-focus-ring: #3B82F6;    /* Focus ring - visible on dark */
	
	/* Border Colors - Dark Mode */
	--color-border-default: #374151;    /* Subtle border - dark gray */
	
	/* =======================================================================
	 * BUTTON COLORS - DARK MODE
	 * =======================================================================
	 * Buttons need higher contrast colors on dark backgrounds
	 */
	
	/* Primary Button - Dark Mode (light on dark for visibility) */
	--color-btn-primary-bg: #60A5FA;
	--color-btn-primary-text: #1A1A1A;
	--color-btn-primary-border: #60A5FA;
	--color-btn-primary-hover-bg: #93C5FD;
	--color-btn-primary-hover-text: #1A1A1A;
	--color-btn-primary-hover-border: #93C5FD;
	--color-btn-primary-active-bg: #3B82F6;
	--color-btn-primary-focus-ring: #60A5FA;
	
	/* Secondary Button - Dark Mode */
	--color-btn-secondary-bg: #374151;
	--color-btn-secondary-text: #F8F9FA;
	--color-btn-secondary-border: #4B5563;
	--color-btn-secondary-hover-bg: #60A5FA;
	--color-btn-secondary-hover-text: #1A1A1A;
	--color-btn-secondary-hover-border: #60A5FA;
	--color-btn-secondary-active-bg: #3B82F6;
	--color-btn-secondary-focus-ring: #60A5FA;
	
	/* Outline Button - Dark Mode */
	--color-btn-outline-bg: transparent;
	--color-btn-outline-text: #60A5FA;
	--color-btn-outline-border: #60A5FA;
	--color-btn-outline-hover-bg: #60A5FA;
	--color-btn-outline-hover-text: #1A1A1A;
	--color-btn-outline-hover-border: #60A5FA;
	--color-btn-outline-active-bg: #3B82F6;
	--color-btn-outline-focus-ring: #60A5FA;
}

/* =======================================================================
 * SYSTEM PREFERENCE FALLBACK
 * =======================================================================
 * This automatically applies dark mode colors when:
 * 1. User's system is set to dark mode (prefers-color-scheme: dark)
 * 2. AND no explicit theme has been set (no data-theme="light")
 * 
 * This allows the site to respect system preferences while still
 * allowing users to override with the theme toggle button.
 */
@media (prefers-color-scheme: dark) {
	:root:not([data-theme="light"]) {
		/* Surface Colors */
		--color-surface-default: #1A1A1A;
		--color-surface-secondary: #2D3748;
		--color-surface-card: #2D3748;
		--color-highlight: hsl(216, 100%, 18%);
		
		/* Text Colors */
		--color-text-default: #F8F9FA;
		--color-text-secondary: #E2E8F0;
		--color-text-muted: #A0AEC0;
		
		/* Code Syntax Colors */
		--color-text-code-default: hsl(33, 15%, 68%);
		--color-text-code-attr: hsl(358, 65%, 68%);
		--color-text-code-function: hsl(24, 85%, 61%);
		--color-text-code-class: hsl(41, 92%, 65%);
		--color-text-code-selector: hsl(299, 34%, 70%);
		--color-text-code-variable: hsl(143, 39%, 64%);
		--color-text-code-url: hsl(179, 50%, 60%);
		
		/* Interactive Colors */
		--color-interactive-default: #60A5FA;
		--color-interactive-hover: #93C5FD;
		--color-interactive-focus: #93C5FD;
		--color-interactive-focus-ring: #3B82F6;
		--color-border-default: #374151;
		
		/* Primary/Brand Colors */
		--color-primary: #2D3748;
		--color-primary-dark: #1A1A1A;
		--color-primary-light: #60A5FA;
		--color-accent: #60A5FA;
		
		/* Button Colors - Dark Mode (System Preference Fallback)
		 * These duplicate the dark mode button colors and are required
		 * when no explicit theme is set via data-theme attribute but
		 * the user's system prefers dark mode.
		 */
		--color-btn-primary-bg: #60A5FA;
		--color-btn-primary-text: #1A1A1A;
		--color-btn-primary-border: #60A5FA;
		--color-btn-primary-hover-bg: #93C5FD;
		--color-btn-primary-hover-text: #1A1A1A;
		--color-btn-primary-hover-border: #93C5FD;
		--color-btn-primary-active-bg: #3B82F6;
		--color-btn-primary-focus-ring: #60A5FA;
		
		--color-btn-secondary-bg: #374151;
		--color-btn-secondary-text: #F8F9FA;
		--color-btn-secondary-border: #4B5563;
		--color-btn-secondary-hover-bg: #60A5FA;
		--color-btn-secondary-hover-text: #1A1A1A;
		--color-btn-secondary-hover-border: #60A5FA;
		--color-btn-secondary-active-bg: #3B82F6;
		--color-btn-secondary-focus-ring: #60A5FA;
		
		--color-btn-outline-bg: transparent;
		--color-btn-outline-text: #60A5FA;
		--color-btn-outline-border: #60A5FA;
		--color-btn-outline-hover-bg: #60A5FA;
		--color-btn-outline-hover-text: #1A1A1A;
		--color-btn-outline-hover-border: #60A5FA;
		--color-btn-outline-active-bg: #3B82F6;
		--color-btn-outline-focus-ring: #60A5FA;
	}
}
